<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<HTML
><HEAD
><TITLE
>gfrep</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><H1
><A
NAME="GFREP.1"
></A
>gfrep</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="NAME"
></A
><H2
>Name</H2
>gfrep&nbsp;--&nbsp;replicate Gfarm files</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="SYNOPSIS"
></A
><H2
>Synopsis</H2
><P
><B
CLASS="COMMAND"
>gfrep</B
> [-vm]  -H <VAR
CLASS="REPLACEABLE"
>hostfile</VAR
>   <VAR
CLASS="REPLACEABLE"
>gfarm-URL</VAR
>... </P
><P
><B
CLASS="COMMAND"
>gfrep</B
> [-v] [-S <VAR
CLASS="REPLACEABLE"
>source-domainname</VAR
>] [-D <VAR
CLASS="REPLACEABLE"
>destination-domainname</VAR
>] [-N <VAR
CLASS="REPLACEABLE"
>num-of-replicas</VAR
>]  <VAR
CLASS="REPLACEABLE"
>gfarm-URL</VAR
>... </P
><P
><B
CLASS="COMMAND"
>gfrep</B
> [-vm]  -P <VAR
CLASS="REPLACEABLE"
>host-pair-file</VAR
>   <VAR
CLASS="REPLACEABLE"
>gfarm-URL</VAR
>... </P
><P
><B
CLASS="COMMAND"
>gfrep</B
> [-vm] [-s <VAR
CLASS="REPLACEABLE"
>source-node</VAR
>] [-d <VAR
CLASS="REPLACEABLE"
>destination-node</VAR
> [-I <VAR
CLASS="REPLACEABLE"
>fragment-index</VAR
>]]  <VAR
CLASS="REPLACEABLE"
>gfarm-URL</VAR
>... </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="DESCRIPTION"
></A
><H2
>DESCRIPTION</H2
><P
><B
CLASS="COMMAND"
>gfrep</B
> creates a replica of Gfarm files
specified by the <TT
CLASS="PARAMETER"
><I
>gfarm-URL</I
></TT
>. </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="OPTIONS"
></A
><H2
>OPTIONS</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><VAR
CLASS="OPTION"
>-v</VAR
></DT
><DD
><P
>displays verbose output.</P
></DD
><DT
><VAR
CLASS="OPTION"
>-m</VAR
></DT
><DD
><P
>lets gfrep command do migrate/move, instead of replicate.
Currently, this works only with -H, -P and -d options.</P
></DD
><DT
><VAR
CLASS="OPTION"
>-H</VAR
> <TT
CLASS="PARAMETER"
><I
>hostfile</I
></TT
></DT
><DD
><P
>specifies a file which describes hostnames of
destination filesystem nodes where the replica will be made on.
The <TT
CLASS="PARAMETER"
><I
>hostfile</I
></TT
> consists of a filesystem node name
in each line.
If the number of nodes listed in the <TT
CLASS="PARAMETER"
><I
>hostfile</I
></TT
>
is less than the total number of file fragments,
it is treated as if the node names are specified repeatedly.</P
><P
>if ``-'' is specified, standard input is used to read the host list.</P
><P
>If the specified <TT
CLASS="PARAMETER"
><I
>Gfarm-URL</I
></TT
> is a directory,
it will be copied recursively.</P
></DD
><DT
><VAR
CLASS="OPTION"
>-S</VAR
> <TT
CLASS="PARAMETER"
><I
>source-domainname</I
></TT
></DT
><DD
><P
>specifies a domainname of source filesystem nodes
where replicas will be made from.</P
><P
>If none of this and other options for the source host is specified, 
 will be copied from one host registered in meta data.</P
><P
>If a host of in the source domain is also in the destination
domain specified by <VAR
CLASS="OPTION"
>-D</VAR
>, gfrep will not replicate
on the host.</P
><P
>If the specified <TT
CLASS="PARAMETER"
><I
>Gfarm-URL</I
></TT
> is a directory,
it will be copied recursively.</P
></DD
><DT
><VAR
CLASS="OPTION"
>-D</VAR
> <TT
CLASS="PARAMETER"
><I
>destination-domainname</I
></TT
></DT
><DD
><P
>specifies a domainname of destination filesystem nodes
where replicas will be made on.</P
><P
>If none of this and other options for the destination host is specified, 
the replica will be copied to any of hosts registered in meta data.
But, in this case, you need to specify the number of replicas greater than
or equal to 2 using -N option. 
Please refer the description of the <VAR
CLASS="OPTION"
>-N</VAR
> for detail.</P
><P
>If the specified <TT
CLASS="PARAMETER"
><I
>Gfarm-URL</I
></TT
> is a directory,
it will be copied recursively.</P
></DD
><DT
><VAR
CLASS="OPTION"
>-N</VAR
> <TT
CLASS="PARAMETER"
><I
>num-of-replicas</I
></TT
></DT
><DD
><P
>specifies the number of file replicas, counting already existing ones.</P
><P
>Gfrep generate replicas  until this number in hosts that are in destination
domain specified by <VAR
CLASS="OPTION"
>-D</VAR
>(if not specified, all hosts
registered inmeta data) and are not in source domain specified by
<VAR
CLASS="OPTION"
>-S</VAR
>. If <VAR
CLASS="OPTION"
>-S</VAR
> is not specified, gfrep
genetate until this number of hosts in destination domain.</P
><P
>If replicas of a <TT
CLASS="PARAMETER"
><I
>Gfarm-URL</I
></TT
> file fragment is more than
this parameter before replication, the file fragment won't be copied and
its replicas won't be removed.</P
><P
>This option must be sepcified singuraly or with <VAR
CLASS="OPTION"
>-S</VAR
>
and/or <VAR
CLASS="OPTION"
>-D</VAR
> options.</P
><P
>If <VAR
CLASS="OPTION"
>-N</VAR
> option is omitted,  this works as if
<VAR
CLASS="OPTION"
>-N 1</VAR
> is specified.</P
></DD
><DT
><VAR
CLASS="OPTION"
>-P</VAR
> <TT
CLASS="PARAMETER"
><I
>host-pair-file</I
></TT
></DT
><DD
><P
>specifies a file which describes hostname pairs of
source nodes and destination nodes.
The <TT
CLASS="PARAMETER"
><I
>host-pair-file</I
></TT
> consists of a pair
of a source node name and a destination node name in this order in each line.
The replica will be copied to the destination node, only if it exists
on the source node of the pair.</P
><P
>If the specified <TT
CLASS="PARAMETER"
><I
>Gfarm-URL</I
></TT
> is a directory,
it will be copied recursively.</P
></DD
><DT
><VAR
CLASS="OPTION"
>-d</VAR
> <TT
CLASS="PARAMETER"
><I
>destination-node</I
></TT
></DT
><DD
><P
>specifies one destination filesystem node where the file will be
copied to.
This option also needs <VAR
CLASS="OPTION"
>-I</VAR
> usually,
but there are conditions that <VAR
CLASS="OPTION"
>-I</VAR
> option can be omitted.
Please refer the description of the <VAR
CLASS="OPTION"
>-I</VAR
> for detail.</P
><P
>If the specified <TT
CLASS="PARAMETER"
><I
>Gfarm-URL</I
></TT
> is a directory,
it will be copied recursively.</P
></DD
><DT
><VAR
CLASS="OPTION"
>-s</VAR
> <TT
CLASS="PARAMETER"
><I
>source-node</I
></TT
></DT
><DD
><P
>specifies a source filesystem node where the file will be copied from.
This option is used solely, or with the <VAR
CLASS="OPTION"
>-D</VAR
> or
<VAR
CLASS="OPTION"
>-d</VAR
> option.
If used solely or with the <VAR
CLASS="OPTION"
>-D</VAR
>, gfrep replicates
on the host other than this one.</P
><P
>If this option is omitted, the source filesystem node is choosed
automatically.</P
></DD
><DT
><VAR
CLASS="OPTION"
>-I</VAR
> <TT
CLASS="PARAMETER"
><I
>fragment-index</I
></TT
></DT
><DD
><P
>specifies a file fragment number,
if the <TT
CLASS="PARAMETER"
><I
>Gfarm-URL</I
></TT
> is an usual file.
If the <TT
CLASS="PARAMETER"
><I
>Gfarm-URL</I
></TT
> is a program,
this option specifies an architecture name of the program.
This option is used with the <VAR
CLASS="OPTION"
>-d</VAR
> option.</P
><P
>It is possible to omit this option in the following cases.
If specified <TT
CLASS="PARAMETER"
><I
>Gfarm-URL</I
></TT
> is an usual file
and it's consists of just one file fragment, this option can
be omitted, and works as if option <VAR
CLASS="OPTION"
>-I 0</VAR
> is specified.
If specified <TT
CLASS="PARAMETER"
><I
>Gfarm-URL</I
></TT
> is a program,
this works as if the architecture of the destination filesystem node
is specified.</P
></DD
><DT
><VAR
CLASS="OPTION"
>-?</VAR
></DT
><DD
><P
>displays a list of command options.</P
></DD
></DL
></DIV
></DIV
></BODY
></HTML
>