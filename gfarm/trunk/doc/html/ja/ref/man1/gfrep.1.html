<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<HTML
><HEAD
><TITLE
>gfrep</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><H1
><A
NAME="GFREP.1"
></A
>gfrep</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="NAME"
></A
><H2
>Name</H2
>gfrep&nbsp;--&nbsp;Gfarm ファイルの複製を作成する．</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="SYNOPSIS"
></A
><H2
>Synopsis</H2
><P
><B
CLASS="COMMAND"
>gfrep</B
> [-vm]  -H <VAR
CLASS="REPLACEABLE"
>ホスト指定ファイル</VAR
>   <VAR
CLASS="REPLACEABLE"
>gfarm-URL</VAR
>... </P
><P
><B
CLASS="COMMAND"
>gfrep</B
> [-v] [-S <VAR
CLASS="REPLACEABLE"
>複製元ドメイン名</VAR
>] [-D <VAR
CLASS="REPLACEABLE"
>複製先ドメイン名</VAR
>] [-N <VAR
CLASS="REPLACEABLE"
>複製数</VAR
>]  <VAR
CLASS="REPLACEABLE"
>gfarm-URL</VAR
>... </P
><P
><B
CLASS="COMMAND"
>gfrep</B
> [-vm]  -P <VAR
CLASS="REPLACEABLE"
>ホスト対指定ファイル</VAR
>   <VAR
CLASS="REPLACEABLE"
>gfarm-URL</VAR
>... </P
><P
><B
CLASS="COMMAND"
>gfrep</B
> [-vm] [-s <VAR
CLASS="REPLACEABLE"
>複製元ホスト</VAR
>] [-d <VAR
CLASS="REPLACEABLE"
>複製先ホスト</VAR
> [-I <VAR
CLASS="REPLACEABLE"
>フラグメント番号</VAR
>]]  <VAR
CLASS="REPLACEABLE"
>gfarm-URL</VAR
>... </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="DESCRIPTION"
></A
><H2
>DESCRIPTION</H2
><P
>引数 Gfarm-URL で指定したファイルの複製を，
指定されたホストに作成します．</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="OPTIONS"
></A
><H2
>OPTIONS</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><VAR
CLASS="OPTION"
>-v</VAR
></DT
><DD
><P
>複製処理に関して，冗長な表示を行ないます，</P
></DD
><DT
><VAR
CLASS="OPTION"
>-m</VAR
></DT
><DD
><P
>複製ではなく移動を行ないます．
現在のところ，このオプションは，-H，-P, -d オプションを指定した場合にしか
動作しません．</P
></DD
><DT
><VAR
CLASS="OPTION"
>-H</VAR
> <TT
CLASS="PARAMETER"
><I
>ホスト指定ファイル</I
></TT
></DT
><DD
><P
>各フラグメントの複製を作成するホスト名のリストを記述した
ファイル名を指定します．
ホスト名は，ファイル中の各行に一ホストずつ記述します．
指定したホスト名の数がフラグメントの数よりも少ない場合，
フラグメントの数と一致するまでホスト名のリストを繰り返し指定した
ものと見なします．</P
><P
>ファイル名として ``-'' を指定した場合，標準入力からホス
ト名のリストを読み込みます．</P
><P
>指定した Gfarm-URL がディレクトリの場合，そのディレクトリを
再帰的に複製します．</P
></DD
><DT
><VAR
CLASS="OPTION"
>-S</VAR
> <TT
CLASS="PARAMETER"
><I
>複製元ドメイン名</I
></TT
></DT
><DD
><P
>各フラグメントの複製元のホストのドメイン名を指定します．</P
><P
>このオプションを省略し，他の複製元ホストを指定するオプションも
使用しない場合は，メタデータに登録されているすべてのホストのいずれかから
複製を作成します．</P
><P
>このオプションで指定されたドメインのホストが
<VAR
CLASS="OPTION"
>-D</VAR
> オプションで指定された複製先ドメインにも属していても，
そのホストには複製を作成しません．</P
><P
>指定した Gfarm-URL がディレクトリの場合，そのディレクトリを
再帰的に複製します．</P
></DD
><DT
><VAR
CLASS="OPTION"
>-D</VAR
> <TT
CLASS="PARAMETER"
><I
>複製先ドメイン名</I
></TT
></DT
><DD
><P
>各フラグメントの複製を作成するホストのドメイン名を指定します．</P
><P
>このオプションを省略し，他の複製先ホストを指定するオプションも
使用しない場合は，メタデータに登録されているすべてのホストのいずれかに
複製を作成します．ただし，この場合に<VAR
CLASS="OPTION"
>-N</VAR
> オプションで
2以上の複製数を指定しないと複製を行いません．
詳しくは <VAR
CLASS="OPTION"
>-N</VAR
> オプションの項を参照してください．</P
><P
>指定した Gfarm-URL がディレクトリの場合，そのディレクトリを
再帰的に複製します．</P
></DD
><DT
><VAR
CLASS="OPTION"
>-N</VAR
> <TT
CLASS="PARAMETER"
><I
>複製数</I
></TT
></DT
><DD
><P
>フラグメントごとに作成する複製の数を指定します．このオプションを
省略すると <VAR
CLASS="OPTION"
>-N 1</VAR
> と指定されたものとみなされます．
このオプションは単独であるいは <VAR
CLASS="OPTION"
>-D</VAR
> オプション，
<VAR
CLASS="OPTION"
>-S</VAR
> オプションとともに用います．</P
><P
><VAR
CLASS="OPTION"
>-D</VAR
> オプションで複製先ドメインが指定された場合，
このドメインのホストにあるレプリカ数が指定された数になるように複製しま
す．</P
><P
><VAR
CLASS="OPTION"
>-S</VAR
> オプションで複製元ドメインが指定された場合，
このドメイン以外のホストにあるレプリカ数が指定された数になるように複製
します．</P
><P
><VAR
CLASS="OPTION"
>-D</VAR
>, <VAR
CLASS="OPTION"
>-S</VAR
> オプションがともに指定
された場合は，複製先ドメインのホストから複製元ドメインのホストを除いた
ホストにあるレプリカ数が，指定された数になるように複製します．
ただし，複製先ドメインが複製元ドメインに含まれている場合は，複製先ドメ
インのホストにあるレプリカ数が指定された数になるように複製します．</P
><P
>各フラグメントについて，これらの複製対象ホスト上に指定された数以
上の複製が既に存在する場合は，そのフラグメントについて複製の作成も削除
も行いません．</P
></DD
><DT
><VAR
CLASS="OPTION"
>-P</VAR
> <TT
CLASS="PARAMETER"
><I
>ホスト対ファイル</I
></TT
></DT
><DD
><P
>複製元のホストと複製先のホストの対のリストを記述した
ファイル名を指定します．
ファイルの各行には，複製元ホストと複製先ホストを，この順で空白で
区切って指定します．
指定した Gfarm-URL を構成するファイルが，複製元ホストに存在する場合のみ，
そのファイルを複製先ホストにコピーします．</P
><P
>指定した Gfarm-URL がディレクトリの場合，そのディレクトリを
再帰的に複製します．</P
></DD
><DT
><VAR
CLASS="OPTION"
>-d</VAR
> <TT
CLASS="PARAMETER"
><I
>複製先ホスト</I
></TT
></DT
><DD
><P
>複製先のホストを1つだけ指定します．</P
><P
>このオプションは，通常 <VAR
CLASS="OPTION"
>-I</VAR
> オプションとともに用いる
必要がありますが，それを省略できる場合もあります．
詳しくは <VAR
CLASS="OPTION"
>-I</VAR
> オプションの項を参照してください．</P
><P
>指定した Gfarm-URL がディレクトリの場合，そのディレクトリを
再帰的に複製します．</P
></DD
><DT
><VAR
CLASS="OPTION"
>-s</VAR
> <TT
CLASS="PARAMETER"
><I
>複製元ホスト</I
></TT
></DT
><DD
><P
>ファイルフラグメントの複製元のホストを指定します．
このオプションは単独で，あるいは，<VAR
CLASS="OPTION"
>-D</VAR
> や
<VAR
CLASS="OPTION"
>-d</VAR
> オプションと共に用います．
単独で指定された場合や -D オプションと共に指定された場合，ここで
指定されたホストは，複製を作成する対象ホストから除外されます．</P
><P
>このオプションを省略した場合，複製元のホストは自動で選ばれます．</P
></DD
><DT
><VAR
CLASS="OPTION"
>-I</VAR
> <TT
CLASS="PARAMETER"
><I
>フラグメント番号</I
></TT
></DT
><DD
><P
>指定した Gfarm-URL が通常のファイルなら，このオプションで
そのフラグメント番号を，あるいはプログラムならアーキテクチャ名を
指定します．
このオプションは <VAR
CLASS="OPTION"
>-d</VAR
> オプションと共に用います．</P
><P
>このオプションは省略できる場合があります．
指定した Gfarm-URL が通常ファイルの場合，そのファイルがフラグメント一つから
構成されているのなら，<VAR
CLASS="OPTION"
>-I</VAR
> オプションを省略できます．
その場合，<VAR
CLASS="OPTION"
>-I 0</VAR
> と指定されたものとみなされます．
あるいは，指定した Gfarm-URL がプログラムの場合，<VAR
CLASS="OPTION"
>-I</VAR
> 
オプションを省略すると複製先ホストのアーキテクチャ名を指定したものと
みなされます．</P
></DD
><DT
><VAR
CLASS="OPTION"
>-?</VAR
></DT
><DD
><P
>引数オプションを表示します．</P
></DD
></DL
></DIV
></DIV
></BODY
></HTML
>